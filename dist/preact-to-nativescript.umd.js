!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.preact_to_nativescript={})}(this,function(e){function t(e,t){var n,o,i,r,l=arguments,s=A;for(r=arguments.length;r-- >2;)x.push(l[r]);for(t&&null!=t.children&&(x.length||x.push(t.children),delete t.children);x.length;)if((o=x.pop())&&void 0!==o.pop)for(r=o.length;r--;)x.push(o[r]);else"boolean"==typeof o&&(o=null),(i="function"!=typeof e)&&(null==o?o="":"number"==typeof o?o=String(o):"string"!=typeof o&&(i=!1)),i&&n?s[s.length-1]+=o:s===A?s=[o]:s.push(o),n=i;var a=new function(){};return a.nodeName=e,a.children=s,a.attributes=null==t?void 0:t,a.key=null==t?void 0:t.key,void 0!==T.vnode&&T.vnode(a),a}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,o){return t(e.nodeName,n(n({},e.attributes),o),arguments.length>2?[].slice.call(arguments,2):e.children)}function i(e){!e.__d&&(e.__d=!0)&&1==O.push(e)&&(T.debounceRendering||w)(r)}function r(){var e,t=O;for(O=[];e=t.pop();)e.__d&&g(e)}function l(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function s(e){var t=n({},e.attributes);t.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);return t}function a(e){var t=e.parentNode;t&&t.removeChild(e)}function d(e,t,n,o,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||i)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var r in n)r in o||(e.style[r]="");for(var r in o)e.style[r]="number"==typeof o[r]&&!1===I.test(r)?o[r]+"px":o[r]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){t=t.replace(/Capture$/,"");t=t.substring(2,3).toLowerCase()+t.substring(3),o?n||e.addEventListener(t,c,e):e.removeEventListener(t,c,e),(e.__l||(e.__l={}))[t]=o}else if("list"!==t&&"type"!==t&&!i&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==o?"":o),null!=o&&!1!==o||e.removeAttribute(t);else{var l=i&&t!==(t=t.replace(/^xlink\:?/,""));null==o||!1===o?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(l?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function c(e){var t=e.type?e.type:e.eventName;return this.__l[t](T.event&&T.event(e)||e)}function u(){for(var e;e=E.pop();)T.afterMount&&T.afterMount(e),e.componentDidMount&&e.componentDidMount()}function h(e,t,n,o,i,r){L++||(B=null!=i&&void 0!==i.ownerSVGElement,S=null!=e&&!("__preactattr_"in e));var l=p(e,t,n,o,r);return i&&l.parentNode!==i&&i.appendChild(l),--L||(S=!1,r||u()),l}function p(e,t,n,o,i){var r=e,c=B;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(r=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(r,e),f(e,!0))),r.__preactattr_=!0,r;var u,h,m=t.nodeName;if("function"==typeof m)return function(e,t,n,o){var i=e&&e._component,r=i,l=e,a=i&&e._componentConstructor===t.nodeName,d=a,c=s(t);for(;i&&!d&&(i=i.__u);)d=i.constructor===t.nodeName;i&&d&&(!o||i._component)?(N(i,c,3,n,o),e=i.base):(r&&!a&&(b(r),e=l=null),i=_(t.nodeName,c,n),e&&!i.__b&&(i.__b=e,l=null),N(i,c,1,n,o),e=i.base,l&&e!==l&&(l._component=null,f(l,!1)));return e}(e,t,n,o);if(B="svg"===m||"foreignObject"!==m&&B,m=String(m),console.log("making diff of",m),(!e||!l(e,m))&&(u=m,(h=B?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u)).__n=u,r=h,e)){for(;e.firstChild;)r.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(r,e),f(e,!0)}var v=r.firstChild,g=r.__preactattr_,C=t.children;if(null==g){g=r.__preactattr_={};for(var y=r.attributes,T=y.length;T--;)g[y[T].name]=y[T].value}return!S&&C&&1===C.length&&"string"==typeof C[0]&&null!=v&&void 0!==v.splitText&&null==v.nextSibling?v.nodeValue!=C[0]&&(v.nodeValue=C[0]):(C&&C.length||null!=v)&&function(e,t,n,o,i){var r,s,d,c,u,h=e.childNodes,m=[],_={},v=0,N=0,g=h.length,b=0,C=t?t.length:0;if(0!==g)for(var y=0;y<g;y++){var T=h[y],x=T.__preactattr_,A=C&&x?T._component?T._component.__k:x.key:null;null!=A?(v++,_[A]=T):(x||(void 0!==T.splitText?!i||T.nodeValue.trim():i))&&(m[b++]=T)}if(0!==C)for(var y=0;y<C;y++){c=t[y],u=null;var A=c.key;if(null!=A)v&&void 0!==_[A]&&(u=_[A],_[A]=void 0,v--);else if(!u&&N<b)for(r=N;r<b;r++)if(void 0!==m[r]&&(w=s=m[r],O=i,"string"==typeof(I=c)||"number"==typeof I?void 0!==w.splitText:"string"==typeof I.nodeName?!w._componentConstructor&&l(w,I.nodeName):O||w._componentConstructor===I.nodeName)){u=s,m[r]=void 0,r===b-1&&b--,r===N&&N++;break}u=p(u,c,n,o),d=h[y],u&&u!==e&&u!==d&&(null==d?e.appendChild(u):u===d.nextSibling?a(d):e.insertBefore(u,d))}var w,I,O;if(v)for(var y in _)void 0!==_[y]&&f(_[y],!1);for(;N<=b;)void 0!==(u=m[b--])&&f(u,!1)}(r,C,n,o,S||null!=g.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||d(e,o,n[o],n[o]=void 0,B);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||d(e,o,n[o],n[o]=t[o],B)}(r,t.attributes,g),B=c,r}function f(e,t){var n=e._component;n?b(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||a(e),m(e))}function m(e){for(e=e.lastChild;e;){var t=e.previousSibling;f(e,!0),e=t}}function _(e,t,n){var o,i=V[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),C.call(o,t,n)):((o=new C(t,n)).constructor=e,o.render=v),i)for(var r=i.length;r--;)if(i[r].constructor===e){o.__b=i[r].__b,i.splice(r,1);break}return o}function v(e,t,n){return this.constructor(e,n)}function N(e,t,n,o,r){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===T.syncComponentUpdates&&e.base?i(e):g(e,1,r)),e.__r&&e.__r(e))}function g(e,t,o,i){if(!e.__x){var r,l,a,d=e.props,c=e.state,p=e.context,m=e.__p||d,v=e.__s||c,C=e.__c||p,y=e.base,x=e.__b,A=y||x,w=e._component,I=!1;if(y&&(e.props=m,e.state=v,e.context=C,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(d,c,p)?I=!0:e.componentWillUpdate&&e.componentWillUpdate(d,c,p),e.props=d,e.state=c,e.context=p),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!I){r=e.render(d,c,p),e.getChildContext&&(p=n(n({},p),e.getChildContext()));var O,B,S=r&&r.nodeName;if("function"==typeof S){var V=s(r);(l=w)&&l.constructor===S&&V.key==l.__k?N(l,V,1,p,!1):(O=l,e._component=l=_(S,V,p),l.__b=l.__b||x,l.__u=e,N(l,V,0,p,!1),g(l,1,o,!0)),B=l.base}else a=A,(O=w)&&(a=e._component=null),(A||1===t)&&(a&&(a._component=null),B=h(a,r,p,o||!y,A&&A.parentNode,!0));if(A&&B!==A&&l!==w){var k=A.parentNode;k&&B!==k&&(k.replaceChild(B,A),O||(A._component=null,f(A,!1)))}if(O&&b(O),e.base=B,B&&!i){for(var U=e,M=e;M=M.__u;)(U=M).base=B;B._component=U,B._componentConstructor=U.constructor}}if(!y||o?E.unshift(e):I||(e.componentDidUpdate&&e.componentDidUpdate(m,v,C),T.afterUpdate&&T.afterUpdate(e)),null!=e.__h)for(;e.__h.length;)e.__h.pop().call(e);L||i||u()}}function b(e){T.beforeUnmount&&T.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n,o,i=e._component;i?b(i):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,a(t),o=(n=e).constructor.name,(V[o]||(V[o]=[])).push(n),m(t)),e.__r&&e.__r(null)}function C(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}function y(e,t,n){return h(n,e,{},!1,t,!1)}var T={},x=[],A=[],w="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,I=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,O=[],E=[],L=0,B=!1,S=!1,V={};n(C.prototype,{setState:function(e,t){var o=this.state;this.__s||(this.__s=n({},o)),n(o,"function"==typeof e?e(o,this.props):e),t&&(this.__h=this.__h||[]).push(t),i(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),g(this,2)},render:function(){}});var k={default:{h:t,createElement:t,cloneElement:o,Component:C,render:y,rerender:r,options:T,unmountComponent:b},h:t,cloneElement:o,Component:C,render:y,rerender:r,options:T,unmountComponent:b};function U(e,t,n,o){for(var i=e.length;i--&&("function"!=typeof t||o?e[i]!==t:!t(e[i])););return n?i:e[i]}var M={setAttribute:function(e,t){console.log("about to set attribute "+e+" to  "+t),this.set(e,t)},getAttribute:function(e){return this[e]},removeAttribute:function(e){console.log("about to remove attggibute "+e),this.set(e,null)},getAttributeNS:function(e,t,n){return this[t]},setAttributeNS:function(e,t,n){console.log("about to set attribute "+t+" to  "+n),this.set(t,n)},removeAttributeNS:function(e){delete this[e]},callAddChild:function(e,t){"SEGMENTEDBAR"===this.nodeName||"TABVIEW"===this.nodeName?this.items=this.childNodes.slice(0):"TABVIEWITEM"===this.nodeName?this.view=e:"PAGE"===this.nodeName?"ACTIONBAR"===e.nodeName?this.actionBar=e:this.content=e:"ACTIONBAR"===this.nodeName?"ACTIONITEM"===e.nodeName?this.actionItems.addItem(e):"NAVIGATIONBUTTON"===e.nodeName?(console.log("SETTING NAVBUTT"),this.navigationButton=e,console.log("successfully set navbutt")):this.titleView=e:"ACTIONITEM"===this.nodeName||"NAVIGATIONBUTTON"===this.nodeName?this.actionView=e:"SCROLLVIEW"===this.nodeName?this.content=e:this.addChild(e,t)},appendChild:function(e){console.log("appending "+e.nodeName+" to "+this.nodeName,Object.keys(this)),"text"in this&&null!=e.splitText?this.text=e.nodeValue:(this.childNodes.push(e),e.parentNode=this),this.callAddChild(e)},insertBefore:function(e,t){console.log("inserting "+e.nodeName+" before "+t.nodeName+" in  "+this.nodeName),e.remove();var n=this.childNodes.indexOf(t);e.parentNode=this,console.log("found offset is "+n+" "+this.childNodes.length),void 0!==n&&null!==n?(this.childNodes.splice(n,0,e),this.callAddChild(e,n)):(this.childNodes.push(e),this.callAddChild(e))},replaceChild:function(e,t){console.log("replacing "+e.nodeName+" with "+t.nodeName),t.parentNode===this&&(t.remove(),this.insertBefore(e,t))},callRemoveChild:function(e){"SEGMENTEDBAR"===this.nodeName?this.items=this.childNodes.slice(0):"PAGE"===this.nodeName?"ACTIONBAR"===e.nodeName?this.actionBar===e&&(this.actionBar=null):this.content===e&&(this.content=null):"ACTIONBAR"===this.nodeName?"ACTIONITEM"===e.nodeName?this.actionItems.removeItem(e):"NAVIGATIONBUTTON"===e.nodeName?this.navigationButton===e&&(this.navigationButton=null):this.titleView=null:"ACTIONITEM"===this.nodeName||"NAVIGATIONBUTTON"===this.nodeName?this.actionView=null:"SCROLLVIEW"===this.nodeName?this.content=null:void 0===this.removeChild||null===this.removeChild?this._removeView(e):this.removeChild(e)},removeChild:function(e){if(console.log("removing "+e.nodeName+" from "+this.nodeName),"text"in this&&null!=e.splitText)this.text="";else{var t=this.childNodes.indexOf(e);-1!==t&&this.childNodes.splice(t,1),this.callRemoveChild(e)}e.parentNode=null},remove:function(){this.parentNode&&(this.parentNode.removeChild(this),this.parentNode=null)},remount:function(){}},P={createElement:function(e){"undefined"===e&&(e="stackLayout");var t,n=e;if((e=e.toLowerCase())in R)t=R[e];else{var o="tns-core-modules/ui/";-1!==e.indexOf("layout")&&(o+="layouts/"),o+=function(e){if("tabviewitem"===e.toLowerCase())return"tab-view";if("segmentedbaritem"===e.toLowerCase())return"segmented-bar";if("actionitem"===e.toLowerCase()||"navigationbutton"===e.toLowerCase())return"action-bar";for(var t,n="",o=0;o<e.length;o++){var i=e.charAt(o);n+=(t=i)===t.toUpperCase()?"-"+i.toLowerCase():i}return n}(n);var i=require(o);for(var r in i)if(r.toLowerCase()===e){t=i[r];break}Object.assign(t.prototype,M),Object.defineProperty(t,"firstChild",{get:function(){return this.childNodes[0]}}),Object.defineProperty(t,"lastChild",{get:function(){return this.childNodes[this.childNodes.length-1]}}),Object.defineProperty(t,"nextSibling",{get:function(){var e=this.parentNode;if(e)return e.childNodes[U(e.childNodes,this,!0)+1]}}),Object.defineProperty(t,"previousSibling",{get:function(){var e=this.parentNode;if(e)return e.childNodes[U(e.childNodes,this,!0)-1]}}),R[e]=t}return(t=new t).loaded=!1,t.firstLoad=!0,t.nodeType=1,t.nodeName=e.toUpperCase(),t.attributes=[],t.childNodes=[],t.set=function(e,n){console.log("callinggset with "+e+" and "+n),t[e]=n},t},createTextNode:function(e){console.log("creating textnode"+e);var t=P.createElement("label");return t.text=e,Object.defineProperty(t,"nodeValue",{set:function(e){this.text=e},get:function(){return this.text}}),t.splitText=function(){return null},t}};global.document=P;var R={},W=function(e,t,n){void 0!==t&&null!==t||(t={nodeType:"artificalParent",nodeName:"artificalParent",attributes:[],childNodes:[],renderedComponent:null,mergeInto:null,renderedInto:null,appendChild:function(e){e.cssFile&&e.addCssFile(e.cssFile),t.childNodes.push(e),e.parentNode=t,e.renderedComponent=t.renderedComponent,e.mergeInto=t.mergeInto},removeChild:function(e){console.log("attempting to remove body child");var n=t.childNodes.indexOf(e);-1!==n&&t.childNodes.splice(n,1)},remove:function(){console.log("attempting to remove body")}}),t.renderedComponent=e,t.mergeInto=n;for(var o=y(e,t,n),i=0,r=t.childNodes;i<r.length;i+=1){r[i].renderedInto=o}return t.childNodes[0]};e.default=W,e.Preact=k,e.render=W});
//# sourceMappingURL=preact-to-nativescript.umd.js.map
